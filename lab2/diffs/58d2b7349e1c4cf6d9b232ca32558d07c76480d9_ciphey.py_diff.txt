@@ -18,7 +18,7 @@ import sys
 from typing import Optional, Dict, Any, List, Union
 import bisect
 
-from ciphey.iface import SearchLevel
+from ciphey.iface import SearchLevel, registry
 from . import iface
 
 from rich import print
@@ -105,16 +105,6 @@ def print_help(ctx):
     is_flag=True,
     default=None,
 )
-# HARLAN TODO XXX
-# I switched this to a boolean flag system
-# https://click.palletsprojects.com/en/7.x/options/#boolean-flags
-@click.option(
-    "-B",
-    "--bytes-output",
-    help="Forces ciphey to use binary mode for the output. Rather experimental and may break things!",
-    is_flag=True,
-    default=None,
-)
 @click.option(
     "--default-dist",
     help="Sets the default character/byte distribution",
@@ -217,9 +207,6 @@ def main(**kwargs):
     if kwargs["bytes_input"] is not None:
         config.update_format("in", "bytes")
 
-    if kwargs["bytes_output"] is not None:
-        config.update_format("out", "bytes")
-
     # Next, load the objects
     params = kwargs["param"]
     if params is not None:
@@ -240,7 +227,7 @@ def main(**kwargs):
     if kwargs["text"] is None:
         if kwargs["file"] is not None:
             kwargs["text"] = kwargs["file"].read()
-            if config.objs["format"] != bytes:
+            if config.objs["format"]["in"] != bytes:
                 kwargs["text"] = kwargs["text"].decode("utf-8")
         elif kwargs["text_stdin"] is not None:
             kwargs["text"] = kwargs["text_stdin"]
